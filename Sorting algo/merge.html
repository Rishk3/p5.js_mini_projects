<html>
  <head>
       <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.1/p5.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.1/addons/p5.dom.min.js">
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.1/addons/p5.sound.min.js"></script>
    <script >
      var values = [];
var numLines = 40;
var sortHist = [];
let inpNum;
function setup() {
  createCanvas(1300, 600);
  colorMode(HSB, height);
  //  inpNum = createInput('40');
  // inpNum.position(20, 30);
  //   inpNum.input(function () {
  //       numLines = inpNum.value();
  
  //   });
  for (i = 0; i <numLines; i++) {
    values[i] =Math.floor(Math.random() * 500+1);
  }
  sortHist = mergeSort(values);
  frameRate(1);
}

var newarr=[];  
var historyIndex = 0;

function draw() {
  background(51);
  fill(145,230,175);
   textFont('monospace');
  textSize(25);
  text("Mergesort", 15, 40);
   fill(200);
   textSize(15);

  text("Made By:: Sachin Pratap,Sachin Singh, Rishikesh", windowWidth - 800, 40);

  fill('white');
//  textSize(18);
  // text("plz input numlines less than 40 for good visuals",20, 60);
  for (i = 0; i < sortHist[historyIndex].length; i++) {newarr[i]=values[i];
     let col = color(values[i], height, height);
    stroke(0);
    fill(col);
    strokeWeight(4);
    var location = map(i, 0, sortHist[historyIndex].length, 0, width);
    rect(location, height - sortHist[historyIndex][i], width/numLines, height);
    fill('white');
    textSize(8);
    text(''+sortHist[historyIndex][i]+"",location+6, height - sortHist[historyIndex][i]);

  } 
  historyIndex++;
  if (historyIndex > sortHist.length -1){
    noLoop();
  }
}

function mergeSort(array) {
  var arrays = [array.slice()],
  n = array.length,
  array0 = array,
  array1 = new Array(n);

  for (var m = 1; m < n; m <<= 1) {
    for (var i = 0; i < n; i += (m << 1)) {
      merge(i, Math.min(i + m, n), Math.min(i + (m << 1), n));
    }
    arrays.push(array1.slice());
    array = array0, array0 = array1, array1 = array;
  }

function merge(left, right, end) {
  for (var i0 = left, i1 = right, j = left; j < end; ++j) {
    array1[j] = array0[i0 < right && (i1 >= end || array0[i0] <=    array0[i1]) ? i0++ : i1++];
   }
 }
 return arrays;
}  
    </script>
      </head>

  <body>
  	
  </body>  
 
</html>